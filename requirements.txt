############################################################
# Ambiente reproduzível — Desafio de Engenharia de Dados Civitas
# Sistema operacional: macOS (Apple Silicon M1/M2)
# Python: 3.10
# Objetivo: rodar Prefect 1.4.1 com Docker Agent local
############################################################

###############################
# Núcleo principal do Prefect #
###############################
prefect==1.4.1          # Versão especificada no desafio
dask==2021.06.0         # Compatível com Prefect 1.4.1
distributed==2021.06.0  # Compatível com Dask 2021.06.0

######################################
# Docker, Compose e dependências CLI #
######################################
docker-compose==1.29.2  # Última versão do Compose 1.x (legado)
docker==4.4.4           # SDK Python compatível com Compose 1.x
websocket-client==0.59.0  # Compatível com docker==4.x
PyYAML==6.0.2           # Corrige erro de compilação em ARM
requests==2.25.1        # Versão estável compatível com docker 4.x
urllib3==1.26.18        # Compatível com requests 2.25.x

#######################################
# Dependências do docker-compose 1.x  #
#######################################
distro<2
dockerpty<1
docopt<1
jsonschema<4
python-dotenv<1
texttable<2

###########################################
# Dependências do Prefect e suas tasks    #
###########################################
click>=7
cloudpickle>=1.3.0
croniter>=0.3.24
importlib-resources>=3
marshmallow>=3
marshmallow-oneofschema>=2
msgpack>=0.6.0
mypy-extensions>=0.4.0
pendulum>=2
python-box>=5.1.0
python-dateutil>=2.7
python-slugify>=1.2.6
pytz>=2018.7
tabulate>=0.8
toml>=0.9

###########################################
# Observações:
# - Testado em macOS M1 com Docker Desktop 4.x
# - Necessário exportar variável DOCKER_HOST:
#     export DOCKER_HOST=unix://$HOME/.docker/run/docker.sock
# - Prefect UI disponível em: http://localhost:8080
###########################################

